\label{md_developer_guide_developer_guide}%
\Hypertarget{md_developer_guide_developer_guide}%
\hypertarget{md_developer_guide_autotoc_md35}{}\doxysection{Architecture}\label{md_developer_guide_autotoc_md35}
sv\+Zero\+DPlus is written in a highly modular manner to enable reuse of code for many different applications. It is divided into a header based library in the {\ttfamily src} directory and a collection of different applications in the {\ttfamily applications} folder. Each application is written for a different use-\/case of sv\+Zero\+DPlus, namely\+:


\begin{DoxyItemize}
\item sv\+Zero\+DCalibrator in {\ttfamily svzerodcalibrator.\+cpp}
\item sv\+Zerod\+Solver in {\ttfamily svzerodsolver.\+cpp}
\item Python API in {\ttfamily svzerodplus.\+cpp}
\end{DoxyItemize}

The header-\/based library in the {\ttfamily src} folder contains classes and functions that are collectively used by all applications. A good overview over the general architecture can be found in the \href{namespaces.html}{\texttt{ list of namespaces}}.\hypertarget{md_developer_guide_autotoc_md36}{}\doxysubsection{Build in debug mode}\label{md_developer_guide_autotoc_md36}
For debug purposes it is recommended to build sv\+Zero\+DPlus in Debug mode.


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir Debug}
\DoxyCodeLine{cd Debug}
\DoxyCodeLine{cmake -\/DCMAKE\_BUILD\_TYPE=Debug ..}
\DoxyCodeLine{cmake -\/-\/build .}

\end{DoxyCode}
\hypertarget{md_developer_guide_autotoc_md37}{}\doxysubsection{Code Style}\label{md_developer_guide_autotoc_md37}
We follow the \href{https://google.github.io/styleguide/cppguide.html}{\texttt{ Google C++ Style Guide}}.\hypertarget{md_developer_guide_autotoc_md38}{}\doxysubsection{Formatting}\label{md_developer_guide_autotoc_md38}
We use \href{https://clang.llvm.org/docs/ClangFormat.html}{\texttt{ clang-\/format}} to automatically format our code accoring to the \href{https://google.github.io/styleguide/cppguide.html}{\texttt{ Google Style}}. This increases readability and maintainability of the code while enabling you to focus on coding. Before committing any changes, you can run the following comment to format all your files\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cd src}
\DoxyCodeLine{find **/*.hpp **/*.cpp | xargs clang-\/format -\/i -\/-\/style=Google}

\end{DoxyCode}


You can also just check {\bfseries{if}} a file would be formatted without actually formatting it with\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cd src}
\DoxyCodeLine{find **/*.hpp **/*.cpp | xargs clang-\/format -\/-\/dry-\/run -\/-\/style=Google -\/-\/Werror}

\end{DoxyCode}


The latter check is also performed in the Git\+Hub CI/\+CD (a.\+k.\+a. Actions) and indicates on merge requests when the code doesnt yet meet all style requirements.

On Sherlock at Stanford, clang-\/format is included in the {\ttfamily llvm} module.\hypertarget{md_developer_guide_autotoc_md39}{}\doxysubsection{Documentation}\label{md_developer_guide_autotoc_md39}
We use \href{https://doxygen.nl}{\texttt{ Doxygen}} to automatically build an html documentation from source code. Please have at Doxygen\textquotesingle{}s \href{https://www.doxygen.nl/manual/docblocks.html}{\texttt{ Documentation Guide}} for an introduction into the syntax of writing documentation in C++. For more inspiration, you can look at the existing source files and how they use documentation. In the following you can find a short recap of the most important commands\+:


\begin{DoxyItemize}
\item {\bfseries{Latex equations}}\+: For inline equations use {\ttfamily \textbackslash{}f\$a+b=c\textbackslash{}f\$} and for block equations use\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)f[}
\DoxyCodeLine{a+b=c}
\DoxyCodeLine{\(\backslash\)f]}

\end{DoxyCode}

\item {\bfseries{Citation}}\+: If you want to cite a piece literature in your documentation, add a respective Bib\+TeX citation to {\ttfamily docs/cpp/references.\+bib} and use {\ttfamily \textbackslash{}cite name\+\_\+of\+\_\+citation} to cite the document.
\item {\bfseries{Drawing circuits}}\+: As the elements of the sv\+Zero\+DSolver are often represented in the form of electrical circuits, we make use of \href{https://ctan.org/pkg/circuitikz?lang=en}{\texttt{ Circui\+TikZ}} to draw circuits in the documentation. The start a Circuit\+TikZ drawing use the following command\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)f[}
\DoxyCodeLine{\(\backslash\)begin\{circuitikz\}}
\DoxyCodeLine{...}
\DoxyCodeLine{\(\backslash\)end\{circuitikz\}}
\DoxyCodeLine{\(\backslash\)f]}

\end{DoxyCode}

\end{DoxyItemize}

The documentation is automatically build in the Git\+Hub CI/\+CD and published on Git\+Hub pages. If you want to build the documentation locally, you can use\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{doxygen docs/cpp/Doxyfile}

\end{DoxyCode}


If you do not have Doxygen install you can do that with {\ttfamily brew install doxygen} on mac\+OS or with {\ttfamily sudo apt-\/get install doxygen} on Linux.\hypertarget{md_developer_guide_autotoc_md40}{}\doxysubsection{Profiling}\label{md_developer_guide_autotoc_md40}
Profiling helps to easily identify bottlenecks in the code. A profiling report lists the executation time spend on certain parts of the code. If you experience performance issue with sv\+Zero\+DSolver, you can follow this guide to create a profiling report. The generation of profiling reports requires \href{https://docs.docker.com/get-docker/}{\texttt{ Docker}} to be installed on your machine.


\begin{DoxyCode}{0}
\DoxyCodeLine{docker build -\/t profile\_svzerodplus -\/f container/profiling/Dockerfile .}
\DoxyCodeLine{docker run -\/it -\/v \$(PWD):/opt/data -\/-\/rm profile\_svzerodplus path/to/simulation\_config.json}

\end{DoxyCode}


This will generate a file called {\ttfamily profiling\+\_\+report.\+pdf} in your current working directory. 